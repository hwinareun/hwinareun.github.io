---
title: TIL(6w3d)
date: 2024-05-16 10:00:00 +09:00
categories: [Studying, 데브코스,TIL]
tags: 
  [데브코스, til, backend, nodejs, cookie, jwt]
---
- 과제: 링크 제출(TIL)6h
- 과제: JWT 적용: 금일 실습한 쿠키 설정 및 JWT 유효기간 설정 등 코드 결과물을 깃헙에 업로드 한 뒤 링크를 공유 하시오.3시간

# HTTP Ststue Code: 403
: 웹 페이지에 대한 액세스가 어떠한 이유로든 금지되었음을 나타내는 일반적인 HTTP 상태 이상 코드 중 하나.

---

# cookie
- `npm i cookie`
- 그냥 쿠키를 사용할 때는 별도로 설치할 필요가 없지만, 나중에 request에서 쿠키에 들어있는 내용을 확인해서 사용하려 할 때 설치해서 사용.

```jsx
res.cookie("token", token)
```
![image]()

---

## cookie 설정 변경
- Secure: false

HTTP
http://localhost:8080/login

HTTPS <-(Secure)
https://www.naver.com/

cf. HttpOnly
: 프론트엔드가 아니라 API 요청 호출만 허락하겠다는 것.
: false면 프론트엔드에서도 요청 호출이 가능하다는 뜻.
: XSS 공격(웹 브라우저 js 접근하여 하는 공격)

: true로 변경.

```jsx
res.cookie("token", token, {httpOnly: true})
```

---

# jwt 유효기간 설정
```jsx
const token = jwt.sign(
  {...}, 
  process.env.PRIVATE_KEY, 
  {
    expiresIn: '1h', // 유효기간
    issuer: "hwinareun" // 작성자
  }
);
```
---

- 각 API에 들어있는 복잡한 콜백함수를 모듈화 시킬 수 있을까?
- 예외 처리를 하지 않은 다른 예외들은 어떻게 처리해야 할까?

--- 

# 프로젝트 소개, 프론트엔드
- 서점 사이트 API 만들어보기.
---